
# GeoIP база данных для России (RU)

Этот репозиторий предоставляет актуальную базу данных `geoip.dat`, содержащую исключительно IPv4 адреса для Российской Федерации. База предназначена для использования в таких программах, как V2Ray, Xray, sing-box и их форках (например, mihomo), для настройки правил маршрутизации.

Репозиторий автоматически генерирует и публикует свежую версию файла `geoip.dat` каждый день.

## Особенности

*   **Только Россия:** Включает только IP-адреса, отнесенные к региону `RU`.
*   **Только IPv4:** Для уменьшения размера и повышения совместимости, база содержит только IPv4 адреса. IPv6 адреса отфильтрованы.
*   **Приватные сети:** Включены диапазоны приватных (локальных) IP-адресов (`private`).
*   **Автоматическое обновление:** База данных обновляется ежедневно в `22:30 UTC` (`01:30 МСК`) с помощью GitHub Actions, обеспечивая максимальную актуальность данных.

## Скачивание

Вы можете скачать готовые файлы напрямую из последнего релиза или использовать CDN для автоматического обновления в ваших приложениях.

⚠️ **Важно:** В ссылках ниже замените `ВАШ_НИК/ВАШ_РЕПОЗИТОРИЙ` на реальный путь к вашему форку.

| Файл | GitHub Release | jsDelivr CDN |
| :--- | :--- | :--- |
| `geoip.dat` | [Скачать](https://github.com/ВАШ_НИК/ВАШ_РЕПОЗИТОРИЙ/releases/download/latest/geoip.dat) | [Ссылка](https://cdn.jsdelivr.net/gh/ВАШ_НИК/ВАШ_РЕПОЗИТОРИЙ@release/geoip.dat) |
| `geoip.dat.sha256sum` | [Скачать](https://github.com/ВАШ_НИК/ВАШ_РЕПОЗИТОРИЙ/releases/download/latest/geoip.dat.sha256sum) | [Ссылка](https://cdn.jsdelivr.net/gh/ВАШ_НИК/ВАШ_РЕПОЗИТОРИЙ@release/geoip.dat.sha256sum) |

## Пример использования

### Clash (mihomo)

Добавьте правило в ваш `config.yaml`, чтобы направлять весь трафик для российских IP-адресов напрямую.

```yaml
# ... другие настройки ...

rules:
  # Правило для российских IP-адресов
  # Весь трафик на российские ресурсы пойдет напрямую
  - GEOIP,ru,DIRECT

  # Остальной трафик, например, через прокси
  - MATCH,PROXY
```

### V2Ray / Xray

Добавьте правило в секцию `routing` вашего `config.json`. Это правило направит трафик для `ru` и `private` сетей через `direct` outbound.

```json
{
  "routing": {
    "rules": [
      {
        "type": "field",
        "geoip": ["ru", "private"],
        "outboundTag": "direct"
      },
      {
        "type": "field",
        "outboundTag": "proxy",
        "network": "tcp,udp"
      }
    ]
  }
}
```

## Как это работает

1.  **Ежедневный запуск:** GitHub Actions запускает рабочий процесс каждый день.
2.  **Загрузка данных:** Скрипт скачивает официальный список IP-адресов для России из репозитория [v2fly/geoip](https://github.com/v2fly/geoip).
3.  **Фильтрация:** Из списка удаляются все IPv6 адреса.
4.  **Сборка:** Утилита `v2fly/geoip` компилирует отфильтрованный список IP-адресов России и список приватных сетей в единый файл `geoip.dat`.
5.  **Публикация:** Готовый файл `geoip.dat` и его контрольная сумма публикуются в разделе Releases и в специальной ветке `release` для доступа через CDN.

## Благодарности

*   **[v2fly/geoip](https://github.com/v2fly/geoip)** — за предоставление исходных данных по IP-адресам.
